<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<title>Header Viewer</title>

</head>
<body>
	<div th:fragment="header">
		<nav class="nav navbar navbar-expand-lg bg-light"
			style="justify-content: center; padding: 10px; height: 80px; min-width: 1500px;">
			<a class="navbar-brand text-dark" href="/"
				style="display: flex; align-items: center; width: 20vw; justify-content: center;">
				<img th:src=@{/images/logoViewer.png}
				style="width: 1.5vw; height: 1.5vw; margin-right: 1vw;" />
				<div style="display: flex; font-size: 2.5vw;">
					Best
					<div style="color: cornflowerblue; font-size: 2.5vw;">CV</div>
				</div>

			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarSupportedContent"
				aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>


			<div class="menu-customize">
				<a class="nav-link active" href="/dashboard">Tài khoản Admin</a> <a
					class="nav-link" href="#">Quản lý tài khoản</a> <a class="nav-link"
					th:href="@{/CandidateAccount}">Quản lý UCV</a> <a class="nav-link"
					th:href="@{/RecruiterAccount}">Quản lý NTD</a> <a class="nav-link"
					href="#">Thống kê</a> <a class="nav-link" th:href="@{/cv/listCV}">Quản lý CV</a> <a
					class="nav-link" href="/">Gợi ý</a>
				</ul>
			</div>

			<div class="navbar-collapse"
				style="display: flex; width: 20vw; justify-content: center;">

				<div class="dropdown" style="float: right; padding: 20px;">
					<!-- <button class="btn btn-light" type="button" id="dropdownMenuButton"
						data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
						style="border: 0px; margin: 10px 0px; box-shadow: none !important;" 
						th:with="mycounter = ${counter.get()}">
							
							<i class="bi bi-bell-fill" aria-hidden="true"></i>							
							<span 
							th:each="notifi :${notifis}"
							th:if="${notifi.status == 'Chờ Duyệt'}" 
							th:with="mycounter=${counter.incrementAndGet()}">
							</span>
							<span id="group" class="badge badge-pill badge-danger" th:with="mycounter = ${counter.get()}" th:text="${mycounter}"></span>
					</button> -->
					<button class="btn btn-light" type="button" id="dropdownMenuButton"
						data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
						style="border: 0px; margin: 10px 0px; box-shadow: none !important;">
						<i class="bi bi-bell-fill" aria-hidden="true"></i> <span
							class="badge badge-pill badge-danger">5</span>
					</button>
					<div class="dropdown-menu dropdown-menu-right"
						aria-labelledby="dropdownMenuButton"
						style="padding: 20px; top: 70px !important; min-width: 850px !important; left: unset !important; box-shadow: 0px 5px 30px black; right: 0;">
						<div th:each="notifi :${notifis1}" href="" class="row"
							style="text-decoration: none; border-bottom: 1px solid #d2d2d2;">
							<div class="col-lg-1 col-sm-1 col-1 cart-detail-img">
								<!-- <img th:if="${notifi.curriculumVitae.candidate.image!=null}" id="photo"
									th:src="'/notify/files/'+${notifi.curriculumVitae.candidate.image}" class="img-thumbnail"
									style="width: 50px; height: 50px;border-radius: 50%;" alt="image" /> 
									<img th:unless="${notifi.curriculumVitae.candidate.image!=null}" id="photo"
									src="https://images.squarespace-cdn.com/content/54b7b93ce4b0a3e130d5d232/1519987165674-QZAGZHQWHWV8OXFW6KRT/icon.png?content-type=image%2Fpng" class="img-thumbnail"
									style="width: 50px; height: 50px;border-radius: 50%" alt="image" /> -->
							</div>
							<div style="word-wrap: break-word;"
								class="col-lg-8 col-sm-8 col-8">
								<div th:utext="${notifi.content}"></div>
							</div>
							<div class="col-lg-2 col-sm-2 col-2">
								<p style="float: left;"
									th:with="days=${T(java.util.concurrent.TimeUnit).HOURS}, millis=${T(java.util.concurrent.TimeUnit).MINUTES}"
									th:text="${days.convert(#dates.createNow().getTime() - notifi.createDate.getTime(), days)/(60 * 60 * 1000*24)} "></p>
								<p style="float: left; margin-left: 5px">ngày trước</p>

							</div>
							<div class="col-lg-1 col-sm-1 col-1">
								<p style="float: left;" th:if="${notifi.status != 'Chờ Duyệt'}"
									class="online_icon"></p>
								<p style="float: left;"
									th:unless="${notifi.status != 'Chờ Duyệt'}"
									class="offline_icon"></p>
							</div>
						</div>

						<div class="row" style="padding: 20px;">
							<div class="col-lg-12 col-sm-12 col-12 text-center">
								<a class="text-center btn btn-primary btn-link"
									th:href="@{/notify/admin}"
									style="text-decoration: none; border-bottom: 1px solid #d2d2d2;">Xem
									Thêm</a>
							</div>
						</div>
					</div>
				</div>
				<div>
					<a th:href="@{/upload_capnhat}"><img
						src="https://news.gearvn.com/wp-content/uploads/2020/03/wallpaper_15783786245e14258031017-1024x576.jpg"
						style="width: 30px; height: 30px; border-radius: 30px; object-fit: cover;" /></a>
				</div>
				<div class="dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown"
						role="button" data-toggle="dropdown" aria-haspopup="true"
						aria-expanded="false"> </a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdown"
						style="left: auto;">
						<a class="dropdown-item" href="#">Action</a> <a
							class="dropdown-item" href="#">Another action</a>
						<div class="dropdown-divider"></div>
						<a class="dropdown-item" href="#">Something else here</a> <span
							class="dropdown-item" sec:authorize="isAuthenticated()"><a
							th:href="@{/j_spring_security_logout}">Log Out</a> </span>
					</div>
				</div>
			</div>
		</nav>
		<div style="display: flex;">
			<form class="form" onsubmit="return formSubmit('news')"
				id="search_form" style="width: 500px; margin-left: 15%">
				<div class="form-group has-search">
					<span class="fa fa-search form-control-feedback"></span> <input
						required="required" th:if="${keyword}" th:value="${keyword}"
						type="text" class="form-control" id="keyword"> <input
						required="required" th:unless="${keyword}" type="text"
						class="form-control" id="keyword">
				</div>
			</form>
			<select id="nganh" class="search-item">
				<option value="">Nghề nghiệp</option>
				<option th:each="val : ${industry}" th:value="${val.id}"
					th:if="${val.id==industryId}" selected="selected">[[${val.industryName}]]</option>
				<option th:each="val : ${industry}" th:value="${val.id}"
					th:unless="${val.id==industryId}">[[${val.industryName}]]</option>
			</select> <select id="diadiem" class="search-item">
				<option value="">Địa điểm</option>
				<option th:each="val :${priorityAddress}"
					th:value="${val.priorityAddressId}"
					th:if="${val.priorityAddressId==priorityAddressId}"
					selected="selected">[[${val.priorityAddressName}]]</option>
				<option th:each="val :${priorityAddress}"
					th:value="${val.priorityAddressId}"
					th:unless="${val.priorityAddressId==priorityAddressId}">[[${val.priorityAddressName}]]</option>
			</select> <input type="button" value="TÌM KIẾM" class="search-button"
				onclick="redirectTo('news')" id="btnSearch">
		</div>

		<script type="text/javascript">
			$(document).ready(function() {
				$("#dropdownMenuButton").click(function() {
					/* var val = parseInt($('#group').find('.badge').text());	
					if ($(this).hasClass('#dropdownMenuButton')) {
					    $('#group').find('.badge').text(0);
					} */
					$('#group').text(0);
				});
			});
		</script>
	</div>
</body>

</html>